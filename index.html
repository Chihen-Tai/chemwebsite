<!doctype html>
<html lang="zh-Hant">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>考古題資料庫</title>
    <meta name="description" content="考古題整理與文章列表（靜態站）" />
    <link rel="stylesheet" href="./src/styles.css" />
</head>

<body>
    <!-- Topbar -->
    <header class="topbar">
        <div class="wrap inner">
            <a class="brand" href="#">
                <div class="logo">Q</div>
                <div>清大化學考古題</div>
            </a>

            <div class="top-actions">
                <button class="btn" id="aboutBtn" type="button">說明</button>
                <button class="btn primary" id="addBtn" type="button">新增</button>
                <button class="btn icon" id="themeBtn" title="切換深色/淺色">🌓</button>
            </div>
        </div>
    </header>

    <main class="wrap">
        <!-- Banner -->
        <section class="banner" id="about">
            <div class="content">
                <div>
                    <h1>把考古題整理成「文章列表」</h1>
                    <p>適合放：期中期末、研究所考題、解答整理、讀書筆記。純靜態頁，GitHub Pages 直接跑。</p>
                </div>
                <div class="meta">
                    <span class="pill">快捷鍵：<span class="kbd">/</span> 搜尋</span>
                    <span class="pill">資料來源：<span class="kbd">src/data.js</span></span>
                </div>
            </div>
        </section>

        <div class="grid">
            <!-- Main -->
            <section>
                <div class="panel">
                    <!-- Tabs -->
                    <div class="tabs" role="tablist" aria-label="分類">
                        <div class="tab active" data-tab="all" role="tab" aria-selected="true">全部主題</div>
                        <div class="tab" data-tab="mid1" role="tab">期中一</div>
                        <div class="tab" data-tab="mid2" role="tab">期中二</div>
                        <div class="tab" data-tab="mid3" role="tab">期中三</div>
                        <div class="tab" data-tab="final" role="tab">期末</div>
                        <div class="tab" data-tab="notes" role="tab">筆記</div>
                        <div class="tab" data-tab="quiz" role="tab">小考</div>
                        <div class="tab" data-tab="other" role="tab">其他</div>
                    </div>

                    <!-- Filters -->
                    <div class="filters">
                        <div class="input" title="搜尋">
                            <span aria-hidden="true">🔎</span>
                            <input id="q" type="search" placeholder="輸入關鍵字（標題/標籤/作者）" />
                        </div>

                        <div class="select" title="科系">
                            <span aria-hidden="true">🏫</span>
                            <select id="department">
                                <option value="">全部科系</option>
                                <option value="物理系">物理系</option>
                                <option value="化學系">化學系</option>
                                <option value="化學所">化學所</option>
                                <option value="資工系">資工系</option>
                                <option value="通識課">通識課</option>
                            </select>
                        </div>

                        <div class="select" title="科目">
                            <span aria-hidden="true">📚</span>
                            <select id="subject">
                                <option value="">全部科目</option>
                            </select>
                        </div>

                    </div>

                    <!-- List header -->
                    <div class="list-head">
                        <div>分類</div>
                        <div>標題</div>
                    </div>

                    <!-- Rows -->
                    <div id="rows"></div>

                    <!-- Pager -->
                    <div class="pager" id="pager"></div>
                </div>
            </section>

            <!-- Sidebar -->
            <aside class="side">
                <div class="card" id="new">
                    <div class="hd">
                        <h3>如何新增資料</h3>
                    </div>
                    <div class="bd">
                        <div class="note">
                            目前列表資料在 <span class="kbd">src/data.js</span> 的 <span class="kbd">window.POSTS</span>。<br />
                            你可以：
                            <ol class="note-list">
                                <li>直接新增一筆物件（最簡單）</li>
                                <li>link 指向 <span class="kbd">/posts/xxx.html</span> 或 <span class="kbd">/assets/xxx.pdf</span></li>
                                <li>之後我也可以幫你改成讀 <span class="kbd">data.json</span></li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="hd">
                        <h3>小工具</h3>
                    </div>
                    <div class="bd">
                        <div class="note">
                            <b>建議結構：</b><br />
                            <span class="kbd">/index.html</span><br />
                            <span class="kbd">/posts/</span> 放各科文章頁<br />
                            <span class="kbd">/assets/</span> 放 PDF、圖片<br /><br />
                            也可以做「學校/科目」兩層分類。
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <footer>
            © Host on GitHub Pages
        </footer>
    </main>

    <div class="modal" id="aboutModal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="aboutModalTitle">
        <div class="modal-backdrop" data-close-modal="1"></div>
        <div class="modal-card">
            <div class="modal-head">
                <h3 id="aboutModalTitle">使用說明</h3>
                <button class="modal-close" id="aboutModalClose" type="button" aria-label="關閉視窗">✕</button>
            </div>
            <div class="modal-body">
                <div class="note">
                    這是考古題整理用的靜態文章列表。<br />
                    你可以用上方搜尋框找：標題 / 科目 / 作者 / 標籤。<br />
                    也可以用分類、科目、排序做快速篩選。<br /><br />
                    快捷鍵：<span class="kbd">/</span> 可快速聚焦搜尋框。
                </div>
                <div class="modal-actions">
                    <button class="btn2" id="aboutModalDismiss" type="button">關閉</button>
                    <a class="btn2 primary" href="#about" id="aboutModalToBanner">看首頁說明區</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="addModal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="addModalTitle">
        <div class="modal-backdrop" data-close-modal="1"></div>
        <div class="modal-card">
            <div class="modal-head">
                <h3 id="addModalTitle">如何新增資料</h3>
                <button class="modal-close" id="addModalClose" type="button" aria-label="關閉視窗">✕</button>
            </div>
            <div class="modal-body">
                <div class="note">
                    目前列表資料在 <span class="kbd">src/data.js</span> 的 <span class="kbd">window.POSTS</span>。<br />
                    你可以：
                    <ol class="note-list">
                        <li>直接新增一筆物件（最簡單）</li>
                        <li>link 指向 <span class="kbd">/posts/xxx.html</span> 或 <span class="kbd">/assets/xxx.pdf</span></li>
                        <li>之後我也可以幫你改成讀 <span class="kbd">data.json</span></li>
                    </ol>
                </div>
                <div class="modal-actions">
                    <button class="btn2" id="addModalDismiss" type="button">關閉</button>
                    <a class="btn2 primary" href="#new" id="addModalToCard">看側欄完整說明</a>
                </div>
            </div>
        </div>
    </div>

    <script>
      (function () {
        const ver = String(Date.now());
        const targets = [
          `./src/data.js?v=${encodeURIComponent(ver)}`,
          `./src/app.js?v=${encodeURIComponent(ver)}`
        ];
        let i = 0;
        const next = () => {
          if (i >= targets.length) return;
          const s = document.createElement("script");
          s.src = targets[i++];
          s.onload = next;
          s.onerror = next;
          document.body.appendChild(s);
        };
        next();
      })();
    </script>
</body>

</html>
